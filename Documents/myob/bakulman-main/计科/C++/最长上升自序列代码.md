```cpp

#include<bits/stdc++.h>
using namespace std;
#define de(x) cout << #x << "=" << (x) << endl;
#define endl '\n'
#define de2(x,y) cout << #x << ' ' << #y << "=" << (x) << " ~ " << (y) << endl;
#define f(x) for(int i = 0;i < x; ++i)
#define f2(i,j) for(int k = i;k < j; ++ k)
typedef long long ll;
typedef unsigned long long ull;

const int N = 1e6 + 10;
int v[N];
int dp[N], idx;


int main() {
	ios::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);


	int n;
	cin >> n;

	f(n) cin >> v[i];

	for(int i = 0;i < n; ++ i) {
		if(v[i] > dp[idx]) {
			dp[++idx] = v[i];
		}
		else{
			auto it = lower_bound(dp+1, dp + 1+idx, v[i]) - (dp  );
			dp[it] = v[i];
		}
	}
	cout << idx << endl;

	return 0;

}

```