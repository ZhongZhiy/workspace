åœ¨ C++ ä¸­ï¼Œç»“æ„ä½“ï¼ˆ`struct`ï¼‰æœ¬è´¨ä¸Šå’Œ `class` æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥å®šä¹‰æˆå‘˜å‡½æ•°ã€æ„é€ å‡½æ•°å’Œ **è¿ç®—ç¬¦é‡è½½ï¼ˆoperator overloadingï¼‰**ã€‚

---

## ğŸ§© ä¸€ã€åŸºæœ¬è¯­æ³•ï¼šç»“æ„ä½“ä¸­é‡è½½è¿ç®—ç¬¦

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªäºŒç»´å‘é‡ç»“æ„ä½“ `Point`ï¼Œæˆ‘ä»¬æƒ³è¦æ”¯æŒåŠ æ³•ã€æ¯”è¾ƒç­‰æ“ä½œã€‚

### âœ… ç¤ºä¾‹ï¼šé‡è½½ `+` è¿ç®—ç¬¦

```cpp
#include <iostream>
using namespace std;

struct Point {
    int x, y;

    // é‡è½½åŠ æ³•è¿ç®—ç¬¦
    Point operator+(const Point& other) const {
        return {x + other.x, y + other.y};
    }

    // é‡è½½æ¯”è¾ƒè¿ç®—ç¬¦ ==
    bool operator==(const Point& other) const {
        return x == other.x && y == other.y;
    }

    // é‡è½½è¾“å‡ºè¿ç®—ç¬¦ <<ï¼ˆéœ€è¦å†™æˆå‹å…ƒå‡½æ•°æˆ–å…¨å±€å‡½æ•°ï¼‰
    friend ostream& operator<<(ostream& os, const Point& p) {
        os << "(" << p.x << ", " << p.y << ")";
        return os;
    }
};
```

---

## ğŸ”§ äºŒã€è¯¦ç»†è®²è§£

### âœ… æˆå‘˜å‡½æ•° vs å‹å…ƒå‡½æ•° vs å…¨å±€å‡½æ•°

- **æˆå‘˜å‡½æ•°å½¢å¼**ï¼š
    
    - ç”¨äºé‡è½½äºŒå…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ `+`ã€`-`ã€`*` ç­‰ï¼‰
        
    - è¯­æ³•æ˜¯ `Type operatorç¬¦å·(const Type& other) const`
        
    - å·¦è¾¹çš„å¯¹è±¡æ˜¯ `this`ï¼Œå³è¾¹æ˜¯å‚æ•°
        
- **å‹å…ƒå‡½æ•°å½¢å¼**ï¼ˆé€šå¸¸ç”¨äº `<<`ã€`>>` è¿™æ ·çš„éæˆå‘˜æ“ä½œï¼‰
    
    - å¿…é¡»åŠ ä¸Š `friend` å…³é”®å­—
        
    - è¯­æ³•å’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œä½†å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜
        

---

## âœ… ä¸‰ã€å¸¸ç”¨é‡è½½è¿ç®—ç¬¦

|è¿ç®—ç¬¦|è¯´æ˜|ç¤ºä¾‹|
|---|---|---|
|`+`|åŠ æ³•|`A + B`|
|`-`|å‡æ³•|`A - B`|
|`*`|ä¹˜æ³•|`A * 3`|
|`/`|é™¤æ³•|`A / 2`|
|`==`|ç›¸ç­‰æ¯”è¾ƒ|`A == B`|
|`<`|å°äºï¼ˆç”¨äºæ’åºï¼‰|`sort(v.begin(), v.end())`|
|`<<`|è¾“å‡ºï¼ˆcoutï¼‰|`cout << A;`|
|`>>`|è¾“å…¥ï¼ˆcinï¼‰|`cin >> A;`|

---

## ğŸ§ª ç¤ºä¾‹ä»£ç ï¼šé‡è½½ `<` ç”¨äº `std::set`

```cpp
#include <iostream>
#include <set>
using namespace std;

struct Point {
    int x, y;

    bool operator<(const Point& other) const {
        return (x == other.x) ? y < other.y : x < other.x;
    }
};

int main() {
    set<Point> s;
    s.insert({1, 2});
    s.insert({0, 2});
    s.insert({1, 1});

    for (const auto& p : s) {
        cout << p.x << " " << p.y << endl;
    }
}
```

---

## ğŸ± æ€»ç»“

|ç±»å‹|å†™æ³•|æ³¨æ„äº‹é¡¹|
|---|---|---|
|æˆå‘˜å‡½æ•°|`Point operator+(const Point& other) const`|`this` ä¸ºå·¦æ“ä½œæ•°|
|å‹å…ƒå‡½æ•°|`friend ostream& operator<<(ostream&, const Point&)`|ä¸èƒ½ä½œä¸ºæˆå‘˜å‡½æ•°|
|æ’åºä½¿ç”¨ `<`|`bool operator<(const Point& other) const`|ç”¨äº `set`ã€`map`|

éœ€è¦æˆ‘å¸®ä½ å†™ä¸€ä¸ªè¿ç®—ç¬¦é‡è½½çš„å…·ä½“ä¾‹é¢˜ï¼Œä¹Ÿå¯ä»¥å–µ~