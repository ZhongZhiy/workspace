```cpp

#include<bits/stdc++.h>
using namespace std;
#define de(x) cout << (#x) << " = " << (x) << endl;
#define de2(x, y) cout << (#x) << " , " << (#y) << " = " << (x) << " ~ " << (y) << endl;
#define endl '\n'
#define f(n) for(int i = 0;i < n; ++i)
#define ff(i, a, b) for(int i = a; i < b; ++i)
typedef long long ll;
typedef unsigned long long ull;


const int N = 2e5 + 100;
int fa[N];

void init() {
	f(N) fa[i] = i;
}

int n, m;

int fd(int z) {
	if(fa[z] != z) {
		fa[z] = fd(fa[z]);
	}
	return fa[z];
}

void merge(int a, int b) {
	fa[fd(a)] = fd(b);
}


int main() {
//	freopen("an", "r", stdin);
	ios::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);

	init();
	cin >> n >> m;
	f(m) {
		int z, x, y;
		cin>> z >> x >> y;

		if(z == 1) merge(x, y);
		else {
			if(fd(x) == fd(y))
				cout << "Y" << endl;
			else
				cout << "N" << endl;
		}
	}
	return 0;
}

```