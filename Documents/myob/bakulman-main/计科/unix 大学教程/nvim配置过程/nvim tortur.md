---
tags:
  - vim
---
以下是 `dots.tutor.md` 文件内容的完整中文翻译：

---

# 欢迎来到 nvimdots 教程

## 第 1.1 课：UI 界面介绍

打开的缓冲区显示在顶部；你可以使用 `<A-i>` 和 `<A-o>` 在它们之间切换。此外，使用 `<A-n>`（其中 `n` 是 1-9 之间的任意数字）可以快速跳转到指定编号的缓冲区。

> **注意**：Mac 用户可能需要将 `<Option>` (⌥) 键映射为 `<Alt>` 键，请参考 [这个链接](https://github.com/ayamir/nvimdots/issues/344) 进行设置。

你可以使用 `<C-n>` 打开文件资源管理器，它会出现在屏幕左侧。现在，用光标导航到 **lua** 文件夹对应的行，并按下 `[o]` 打开它。重复此操作直到进入 **core** 文件夹，然后通过再次按下 `[o]` 在新缓冲区中打开 **event.lua** 文件。要在这两个窗口之间切换，可以使用 `<C-h>` 和 `<C-l>`。由于接下来的内容不再需要资源管理器，请使用 `<C-n>` 关闭它。

接着，按下 `<C-w>v` 将当前窗口垂直分割。然后使用 `<A-i>` 切换到右侧窗口中的 **event.lua** 缓冲区。你可以使用 `<A-h>` 和 `<A-l>` 调整右侧窗口大小，确保每行文字都清晰可见。按住对应方向键还可以继续调整窗口尺寸。

回到左侧窗口，你应该看到状态栏如下所示：

```
|Normal|󰢱 lua|main| 1|󱜙 [lua_ls,null-ls] UTF-8 LF  4|󱃪 ~/.config/nvim|4% 50:1|
```

各字段含义如下：
- LSPs：当前连接的 LSP 客户端（如 `lua_ls`, `null-ls`）
- 字符集：编码格式（如 UTF-8）
- 行尾格式：LF 或 CRLF
- Git 状态 / Tab 宽度
- Git 分支 / 工作目录
- 文件类型
- 编辑模式 / 光标位置

如果你切换到右侧窗口并将光标移动到第二行，状态栏会变成这样：

```
|Normal|󰢱 lua|main| 󰅩 autocmd                  |~/.config/nvim|utf-8|LF|1%|2:1|
```

"󰅩 autocmd" 表示这一行包含一个名为 "autocmd" 的变量。因此，状态栏的这部分能帮助你了解当前光标所在位置的上下文信息。请注意，该功能依赖于 LSP，如果当前缓冲区未连接 LSP，则该功能会被禁用。

你可以按下 `<leader>li` 查看 LSP 信息。你会发现有两个客户端连接到了这个缓冲区。

现在，按下 `[go]` 打开代码大纲（code outline），它会在最右边的窗口中显示 **event.lua** 中定义的所有符号（symbols）。你可能会注意到每个窗口都有滚动条，可以通过鼠标拖动来查看光标的大致位置。

在切换回主窗口之前，请先按下 `[go]` 关闭代码大纲（因为它是基于 LSP 的）。如果你直接切换回 dotstutor 主窗口，它将为空白，变得无用。

现在切换回左侧窗口并检查 LSP 信息。你会发现这两个客户端并未连接到这个缓冲区。这表明没有适用于该缓冲区的语言服务器，这也是我建议你关闭大纲的原因。

现在你已经熟悉了 nvimdots 的用户界面，让我们继续下一课，学习基本的工作流程。

---

## 第 1.2 课：查找与搜索

nvimdots 使用 [telescope.nvim](https://github.com/nvim-telescope/telescope.nvim) 作为主要的模糊查找工具，提供多种高效的查找与搜索功能。

要打开当前工作目录下的“文件查找”界面，按下 `<leader>ff`。输入关键字后，使用 `<C-p>` 和 `<C-n>` 在结果列表中上下导航。选中的文件内容可以在旁边的窗口中预览，按下 `<Enter>` 可在新缓冲区中打开它。此外，使用 `<Tab>` 和 `<S-Tab>` 可以在不同标签页之间切换，用于查找具有不同属性的文件。例如：
- “Frecency” 标签根据最近和最常使用的文件进行搜索；
- “Oldfiles” 标签根据最近打开过的文件进行搜索；
- “Buffers” 标签则允许你在当前已打开的缓冲区中查找。

对于当前工作目录内的模式匹配搜索，请按下 `<leader>fp>`。该功能基于 [ripgrep](https://github.com/BurntSushi/ripgrep)，使用方式和 ripgrep 本身一样直观。和“文件查找”类似，你也可以使用 `<Tab>` 和 `<S-Tab>` 切换搜索标签页。“Word under cursor” 标签页会显示当前光标下的单词所有出现的位置。

nvimdots 还提供了全面的项目管理功能，并与 Telescope 无缝集成。按下 `<leader>fd>` 打开最近的项目列表。第一个标签页展示的是当前保存的会话；选择一个会话并按下 `<CR>` 即可恢复对应的项目。第二个标签页列出各种项目。你可以不退出该界面，而是通过 `<C-a>` 将当前工作目录添加进项目列表，或通过 `<C-d>` 删除它。通常，当前工作目录由 LSP 或类似 `.git/` 的标记识别出的项目根目录决定。你也可以自定义识别规则。因此，当你切换到另一个项目的文件时，工作目录会自动切换。

---

## 第 1.3 课：编辑与格式化

无论你正在编辑什么类型的文件，**补全窗口都会自动弹出**。你可以使用 `<Tab>` 和 `<S-Tab>` 在补全候选中前后切换，按下 `<CR>` 确认补全。你也可以使用 `<C-n>`、`<C-p>`、`<C-y>` 实现同样的功能。如果你不想确认补全而是希望手动开始新的一行，可以使用 `<C-w>` 手动关闭补全窗口。

除了代码补全，LSP 还提供许多其他功能。对于曾经使用过 VSCode 的用户来说，可以体验到许多熟悉的特性，如智能重命名、查找引用、跳转定义、查看函数文档等。无论你是否熟悉 LSP，所有相关快捷键都非常直观，欢迎自行探索！

**代码片段（Snippets）** 是提高编码效率的强大工具。和大多数编辑器与 IDE 类似，我们配置了 `<Tab>` 和 `<S-Tab>` 来在展开的代码片段中导航。`<Tab>` 用于跳转到下一个占位点，而 `<S-Tab>` 用于跳转到上一个占位点。

**保存时自动格式化（Format on Save）** 是一项非常实用的功能，默认已启用。它确保你的代码风格保持一致，无需手动维护。你可以使用快捷键 `<A-f>` 临时禁用它，或者在 `lua/user/settings.lua` 中添加 `settings["format_on_save"] = false` 永久禁用它。

你也可以为特定语言单独控制格式化功能，只需执行以下命令即可：

```vim
:FormatterToggleFt {language_name} <CR>
```

---

## 第一课总结

恭喜！你已经掌握了 nvimdots 提供的 60% 的功能。

当然，你可能还想了解更多关于剩余 40% 功能的学习方法 —— 那就是掌握 Neovim 的基础操作。我们增强了 Neovim 的许多默认行为，所以如果你已经是 Neovim 的老用户，你会觉得这些功能自然易用。

想要了解更多？欢迎访问 [nvimdots GitHub Wiki](https://github.com/ayamir/nvimdots/wiki) 获取更多高级功能和使用技巧。

最后但同样重要的是，你可以在正常模式下按下 `<C-p>` 打开命令面板，随时搜索快捷键！

// vim: nowrap

--- 

如需进一步帮助配置 Neovim + Mason + LSP 或 NixOS 支持，请告诉我！