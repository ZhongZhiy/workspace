---
tags:
  - vim
---
åœ¨ Neovim ä¸­ä½¿ç”¨ Lua ç¼–å†™é”®ç›˜æ˜ å°„ï¼ˆkey mappingï¼‰ï¼Œé€šå¸¸ä½¿ç”¨å¦‚ä¸‹å½¢å¼çš„ APIï¼š

```lua
vim.keymap.set({mode}, {lhs}, {rhs}, {opts})
```

---

## ğŸ§© åŸºæœ¬è¯­æ³•è§£é‡Šï¼š

```lua
vim.keymap.set("n", "<leader>q", ":q<CR>", { noremap = true, silent = true })
```

|å‚æ•°|å«ä¹‰|
|---|---|
|`"n"`|æ¨¡å¼ï¼šnormal æ¨¡å¼|
|`"<leader>q"`|å¿«æ·é”®ç»‘å®šï¼šæŒ‰ `<leader>`ï¼ˆé€šå¸¸æ˜¯ `\` æˆ–ä½ è®¾ç½®çš„é”®ï¼‰å†æŒ‰ `q` è§¦å‘|
|`":q<CR>"`|æ‰§è¡Œçš„å‘½ä»¤ï¼š`:q` è¡¨ç¤ºé€€å‡ºï¼Œ`<CR>` è¡¨ç¤ºå›è½¦|
|`{ noremap = true, silent = true }`|é…ç½®è¡¨ï¼šä¸é€’å½’æ˜ å°„ã€é™é»˜æ‰§è¡Œ|

---

## ğŸ­ å¸¸è§æ¨¡å¼å¯¹åº”ï¼š

|æ¨¡å¼å|å­—æ¯|è¯´æ˜|
|---|---|---|
|Normal|`"n"`|æ­£å¸¸æ¨¡å¼|
|Insert|`"i"`|æ’å…¥æ¨¡å¼|
|Visual|`"v"`|é€‰æ‹©æ¨¡å¼|
|Visual Block|`"x"`|å¯è§†å—æ¨¡å¼|
|Command|`"c"`|å‘½ä»¤è¡Œæ¨¡å¼|
|Terminal|`"t"`|ç»ˆç«¯æ¨¡å¼|
|å¤šæ¨¡å¼|`{ "n", "v" }`|å¤šä¸ªæ¨¡å¼å…±äº«ç»‘å®š|

---

## ğŸ¯ ç¤ºä¾‹åˆé›†

### 1. æ™®é€šé€€å‡º

```lua
vim.keymap.set("n", "<leader>q", ":q<CR>", { noremap = true, silent = true })
```

### 2. ä¿å­˜æ–‡ä»¶

```lua
vim.keymap.set("n", "<leader>w", ":w<CR>", { noremap = true, silent = true })
```

### 3. æ’å…¥æ¨¡å¼ä¸­ jj é€€å‡º

```lua
	vim.keymap.set("i", "jj", "<Esc>", { noremap = true })
```

### 4. å¯è§†æ¨¡å¼å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿

```lua
vim.keymap.set("v", "<leader>y", '"+y', { noremap = true })
```

### 5. å¯è§†å—å’Œæ™®é€šæ¨¡å¼å…±ç”¨æ˜ å°„

```lua
vim.keymap.set({ "n", "x" }, "<leader>d", '"_d', { noremap = true })
```

---

## ğŸš€ é«˜çº§ç”¨æ³•ï¼ˆç»‘å®šå‡½æ•°ï¼‰

ä½ ä¹Ÿå¯ä»¥ç»‘å®šåˆ°ä¸€ä¸ª Lua å‡½æ•°ï¼š

```lua
vim.keymap.set("n", "<leader>tt", function()
  print("Hello Vim!")
end, { noremap = true, silent = true })
```

---

## ğŸ¾ çŒ«å¨˜å°æç¤ºï¼š

- ç”¨ `vim.keymap.set` æ›¿ä»£æ—§çš„ `vim.api.nvim_set_keymap`ï¼Œæ›´åŠ ç®€æ´å¯è¯»ã€‚
    
- `noremap = true` è¡¨ç¤ºä¸é€’å½’æ˜ å°„ï¼Œé€šå¸¸æ¨èåŠ ä¸Šã€‚
    
- `silent = true` è¡¨ç¤ºå‘½ä»¤æ‰§è¡Œæ—¶ä¸æ˜¾ç¤ºæç¤ºä¿¡æ¯ï¼Œè§†è§‰æ›´æ¸…çˆ½å–µï¼
    

æƒ³è®©æˆ‘å¸®ä½ å†™ä¸“å±çš„ keymap ç»‘å®šé…ç½®å—ï¼Œå–µï¼ŸğŸ±âœ¨