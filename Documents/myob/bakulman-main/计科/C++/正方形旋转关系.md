---
~
---

---

### **1. 理解正方形的旋转关系**

一个正方形在二维平面上有如下特性：

1. **旋转性**：
   - 假设已知点 \( (x_1, y_1) \) 和 \( (x_2, y_2) \)，它们形成正方形的一条边，方向从 \( (x_1, y_1) \) 指向 \( (x_2, y_2) \)。
   - 要得到逆时针方向的第三个点 \( (x_3, y_3) \)，需要将这个边逆时针旋转 \( 90^\circ \)。
   
2. **旋转公式**：
   对于一个点 \( (dx, dy) \)：
   - $$顺时针旋转 \( 90^\circ \)：\( (dx', dy') = (dy, -dx) \)$$
   - $$ 逆时针旋转 \( 90^\circ \)：\( (dx', dy') = (-dy, dx) \)$$

   其中：
   - \( dx = x_2 - x_1 \)
   - \( dy = y_2 - y_1 \)

---

### **2. 计算点 \( (x_3, y_3) \) 和 \( (x_4, y_4) \)**

从已知点 \( (x_1, y_1) \) 和 \( (x_2, y_2) \) 出发：

#### 第三个点 \( (x_3, y_3) \)：
使用逆时针旋转公式：
$
x_3 = x_2 - (y_2 - y_1)
$
$
y_3 = y_2 + (x_2 - x_1)
$


#### 第四个点 \( (x_4, y_4) \)：
在点 \( (x_3, y_3) \) 的基础上再次应用逆时针旋转公式：

$
x_4 = x_3 - (y_3 - y_2)
$
$
y_4 = y_3 + (x_3 - x_2)
$

---

### **3. 确保点的顺序是逆时针**

由于正方形定义了严格的逆时针顺序，我们需要确保以下三组点的顺序满足条件：
1. \( (x_1, y_1) \to (x_2, y_2) \to (x_3, y_3) \to (x_4, y_4) \)。

如果计算出的点顺序不符合逆时针，可以通过调整公式重新计算（例如改为顺时针旋转公式）。

---

### **4. 实现代码**

```cpp
#include <iostream>
using namespace std;

int main() {
    int x1, y1, x2, y2;
    cin >> x1 >> y1 >> x2 >> y2;

    // 第三个点 (x3, y3)
    int x3 = x2 - (y2 - y1);
    int y3 = y2 + (x2 - x1);

    // 第四个点 (x4, y4)
    int x4 = x3 - (y3 - y2);
    int y4 = y3 + (x3 - x2);

    // 输出结果
    cout << x3 << " " << y3 << " " << x4 << " " << y4 << endl;

    return 0;
}
```

---

### **5. 示例讲解**

#### 输入：
```
0 0 0 1
```

#### 计算过程：
1. \( dx = 0 - 0 = 0 \), \( dy = 1 - 0 = 1 \)
2. \( x_3 = 0 - (1) = -1 \), \( y_3 = 1 + (0) = 1 \)
3. \( x_4 = -1 - (1 - 1) = -1 \), \( y_4 = 1 + (-1 - 0) = 0 \)

#### 输出：
```
-1 1 -1 0
```

---

### **6. 验证逆时针性**

对于点 \( (x_1, y_1) \to (x_2, y_2) \to (x_3, y_3) \)：
- 构造向量 \( \vec{A} = (x_2 - x_1, y_2 - y_1) \) 和 \( \vec{B} = (x_3 - x_2, y_3 - y_2) \)。
- 计算叉积 \( A_x \times B_y - A_y \times B_x \)：
  - 若结果为正，说明是逆时针；
  - 若为负，则是顺时针。

---

通过上述几何推导和代码实现，能正确生成逆时针的正方形顶点顺序！